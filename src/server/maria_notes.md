# Routing
  - [Gorilla](https://github.com/gorilla) archived in Dec. 2022
    - ~~Can use [BunRouter](https://github.com/uptrace/bunrouter) as alternative for `gorilla/mux`~~
    - Basically all oauth packages rely on Gorilla in some capacity
    - [Gin](https://github.com/gin-gonic/gin)
      - [Angular/GO app using Gin](https://auth0.com/blog/developing-golang-and-angular-apps-part-1-backend-api/)
        - Enables handlers and higher abstraction than pat
      - [Using gorilla/pat to serve front-end](https://blog.loginradius.com/engineering/google-authentication-with-golang-and-goth/)
# Observables
  - ng HttpClient returns Observables instead of responses
# Login
  - are user ids persistent?
  - `User` struct returned from Goth authentication
  ```golang
    type User struct {
      RawData map[string]interface{}
      Provider  string
      Email string
      Name  string
      FirstName string
      LastName  string
      NickName  string
      Description string
      UserID  string
      AvatarURL string
      Location  string
      AccessToken string
      AccessTokenSecret string
      RefreshToken  string
      ExpiresAt time.Time
      IDToken string
    }
  ```
  - [JWT authentication flow](https://res.cloudinary.com/practicaldev/image/fetch/s--IX-y468A--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i.imgur.com/hthWzSx.png)
# Database
  - Packages
    - [Driver vs ORM model](https://stackoverflow.com/questions/24153067/whats-difference-between-orm-and-odbc)?
    - Db driver method via [go-sqlite3](https://github.com/mattn/go-sqlite3)
    - [GORM](https://gorm.io/docs/) &rarr; ORM (object-relational model) which let's you map databases to objects and deal with the objects
      - [But objects are structs and not maps](https://stackoverflow.com/a/66385750/20331543) :sleepy:
    - [sqlx](https://github.com/jmoiron/sqlx) &rarr; driver method which lets you capture db slice in hashmap
      ```golang
        places := []Place{}
        err := db.Select(&places, "SELECT * FROM place ORDER BY telcode ASC")
        if err != nil {
          fmt.Printf(err)
          return
        }
      ```
  - Functionality?
    ```mermaid
    erDiagram
      USER }o--|| FORTUNE : publishes
      USER {
        string id PK "The user's id"
        string name "The user's display name"
        string fid FK "A previously received fortune"
      }
      FORTUNE ||--|{ USER : receives
      FORTUNE {
        string fid PK "The fortune's id"
        string fortune
      }
    ``` 

    uid | name | email | fid
    ---------|----------|---------|------|
    122876837248328 | misty | alexia@gmail.com | {{921921921},{123232323},{33333333}} 

    fid | fortune | author |
    ---------|----------|---------|
    921921921 | Today you will be blessed. | 122876837248328
    - should fortunes be unique? 
      - storing duplicate fortunes is inefficient
      - fortune ids (**fid**) can be generated by hashing the fortune content (that way duplicate fortunes are handled)
    - how to do daily updates?
      - should users have a daily counter for submissions and fortunes?
        - could use [cron](https://pkg.go.dev/github.com/robfig/cron) to reset counters at 12:00 AM daily
      - use dates? but which relationship should have the date, publishing or receiving?
    - fortune history
      - view past written and received fortunes?
      - think of _received_ fortunes like comments on someone's profile (comments are associated with a profile)
    - security
      - a pretty please note not to be a weirdo?
      - maybe fortune authors should be stored and displayed to prevent people abusing anonymity
      - profanity censors?
        - [go-away](https://github.com/TwiN/go-away)